# ECS Systems Refactor Audit Table

This table tracks the audit and refactor status of each ECS system in the simulation schedule. Use this as a systematic TODO list for the modularization effort.

| System Name                                             | Domain                     | File/Module Location                                | System Responsibility / Notes                | Audit Status   | Refactor Status | Comments |
|--------------------------------------------------------|----------------------------|-----------------------------------------------------|----------------------------------------------|---------------|-----------------|----------|
| collect_food_positions_system()                        | Food Systems               | food/systems.rs                                     | Collects positions of food entities          | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, single responsibility. Must run before agent targeting. |
| collect_food_spawn_positions_system()                  | Food Systems               | food/systems.rs                                     | Collects valid spawn positions for food      | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, focused. Must run before food spawn application. |
| food_spawn_apply_system()                              | Food Systems               | food/systems.rs                                     | Applies food spawn requests                  | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Focused, must run after spawn position collection. |
| crate::agent::pause_system::agent_pause_system()       | Agent Control & State      | agent/pause_system.rs                               | Handles pausing agents (legacy?)             | ❌ Removed | ⬜ Not Refactored| Focused, logs state. Should run before/with state transitions. |
| crate::ecs::systems::agent::agent_pausing_system()     | Agent Control & State      | ecs/systems/agent.rs                                | Handles pausing agents (modular)             | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, no logging. Should run before/with state transitions. |
| crate::ecs::systems::agent::agent_hunger_energy_system()| Agent Control & State     | ecs/systems/agent.rs                                | Manages agent hunger and energy              | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, should run before action/decision and death systems. |
| crate::ecs::systems::agent::agent_path_movement_system()| Agent Control & State     | ecs/systems/agent.rs                                | Handles agent movement along paths           | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, should run before/with state transition/history systems. |
| crate::ecs::systems::agent::agent_direct_movement_system()| Agent Control & State   | ecs/systems/agent.rs                                | Handles direct agent movement                | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, should run before/with state transition/history systems. |
| crate::ecs::systems::agent::agent_state_transition_system()| Agent Control & State   | ecs/systems/agent.rs                                | Handles agent state transitions              | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run after movement systems. |
| crate::ecs::systems::drain_agent_spawn_queue::drain_agent_spawn_queue_system()| Agent Spawning & Queue| ecs/systems/drain_agent_spawn_queue.rs              | Drains thread-safe agent spawn queue         | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run before agent control/state systems. |
| crate::ecs::systems::agent_spawn::agent_spawning_system()| Agent Spawning & Queue   | ecs/systems/agent_spawn.rs                          | Spawns new agents from pending requests      | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run before agent control/state systems. |
| crate::ecs::systems::agent_logging::agent_arrival_logging_system()| Agent Logging | ecs/systems/agent_logging.rs                        | Logs agent arrivals                          | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run after state transitions. |
| crate::ecs::systems::agent_logging::agent_move_logging_system()| Agent Logging    | ecs/systems/agent_logging.rs                        | Logs agent movements                         | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run after movement and state transitions. |
| crate::ecs::systems::agent_logging::agent_spawn_logging_system()| Agent Logging   | ecs/systems/agent_logging.rs                        | Logs agent spawns                            | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run after agent spawning. |
| entity_interaction_system()                            | Entity & Agent Interaction | ecs_components.rs                                    | Handles entity interactions                  | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Not minimal, needs refactor into smaller systems. |
| agent_death_system()                                  | Entity & Agent Interaction | agent/systems.rs                                      | Handles agent death                          | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run after hunger/energy systems. |
| agent::agent_event_log_to_gui_system()                | Agent Logging/Interaction  | agent/event_log_bridge.rs                           | Sends agent event log data to GUI            | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Minimal, must run after all agent event-producing systems. |
| swimming_system() (commented/legacy)                  | Legacy/Other               | ecs/systems/swimming.rs (commented out)             | Swimming logic (currently unused)            | ✅ Audited (2025-04-26) | ⬜ Not Refactored| Disabled. If re-enabled, review for ECS best practices. |
